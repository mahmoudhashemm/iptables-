تمام ✅، خلينا نعملها بالراحة:

---

## 🎯 الهدف

تقفل أي **خروج للإنترنت (outbound)** من الحاويات اللي في رينج:

```
10.0.0.0/8
```

يعني كل IP يبدأ بـ `10.` (زي: 10.0.0.202, 10.0.0.203… إلخ).

---

## 🛠️ القاعدة في iptables

على السيرفر (Ubuntu host):

```bash
iptables -I DOCKER-USER -s 10.0.0.0/8 -o eth0 -j DROP
```

### معنى القاعدة:

* `-s 10.0.0.0/8` = أي حاوية IPها يبدأ بـ 10.*.*.\*
* `-o eth0` = تحاول تخرج على الإنترنت من الإنترفيس الخارجي.
* `-j DROP` = يتمنع.

---

## 🔍 للتحقق

شوف القاعدة انضافت:

```bash
iptables -L DOCKER-USER -n --line-numbers
```

---

## 💾 للحفظ بعد إعادة التشغيل

```bash
netfilter-persistent save
```

أو:

```bash
iptables-save > /etc/iptables/rules.v4
```

---

## 📌 ملاحظات

* كده أي حاوية جوه رينج 10.0.0.0/8 مش هتطلع إنترنت.
* بس لسه يقدروا يتواصلوا داخليًا بين بعض (داخل نفس شبكة Docker).
* لو عايز تعمل استثناء (مثلاً Odoo يطلع على 443) لازم تضيف قاعدة سماح قبل قاعدة الـ DROP.

---

تحب أجهزلك سكربت فيه:

* قفل النت عن 10.0.0.0/8 بالكامل.
* مع إمكانية إضافة استثناءات (بورتات أو حاويات محددة)؟
